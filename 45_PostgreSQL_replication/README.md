# Домашнее задание к занятиям 44-45 - "Postgres: Backup + Репликация"

## Описание домашнего задания

1. Настроить hot_standby репликацию с использованием слотов.
2. Настроить правильное резервное копирование.

Для сдачи работы присылаем ссылку на репозиторий, в котором должны обязательно быть:    
- Vagranfile (2 машины)
- плейбук Ansible
- конфигурационные файлы postgresql.conf, pg_hba.conf и recovery.conf,
- конфиг barman, либо скрипт резервного копирования.

Команда "vagrant up" должна поднимать машины с настроенной репликацией и резервным копированием.
Рекомендуется в README.md файл вложить результаты (текст или скриншоты) проверки работы репликации и резервного копирования.

---

## Выполнение     

Подготовлен [Vagrantfile](./Vagrantfile) и [ansible playbook](./ansible/provision.yml) разворачивающий стенд с работающей репликацией и backup.
В процессе развертывание производится вывод контрольных запросов и последущие тесты.
Вывод чуствительной информации не отключен в демонстрационных целях. 

Использование:    
```bash
vagrant up
```

---

Информационные материлы по заданию:    

[Презентация PostgreSQL](docs/PostgreSQL-base.pdf)    
[Презентация "Бэкап и репликация"](docs/Backup&Replication.pdf)    
[PGTune - calculate configuration for PostgreSQL](https://pgtune.leopard.in.хуа/#/)
